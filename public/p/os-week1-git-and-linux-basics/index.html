<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="第一周 OS 课程 Slides"><title>[OS Week1] Git and Linux Basics</title>
<link rel=canonical href=https://loongson-neuq.pages.dev/p/os-week1-git-and-linux-basics/><link rel=stylesheet href=/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css><meta property='og:title' content="[OS Week1] Git and Linux Basics"><meta property='og:description' content="第一周 OS 课程 Slides"><meta property='og:url' content='https://loongson-neuq.pages.dev/p/os-week1-git-and-linux-basics/'><meta property='og:site_name' content='NEUQ 龙芯实验室博客'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='Git'><meta property='article:tag' content='Linux'><meta property='article:published_time' content='2024-10-19T00:00:00+00:00'><meta property='article:modified_time' content='2024-10-19T00:00:00+00:00'><meta property='og:image' content='https://loongson-neuq.pages.dev/p/os-week1-git-and-linux-basics/background.png'><meta name=twitter:title content="[OS Week1] Git and Linux Basics"><meta name=twitter:description content="第一周 OS 课程 Slides"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://loongson-neuq.pages.dev/p/os-week1-git-and-linux-basics/background.png'><link rel="shortcut icon" href=/favicon.png></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu27a039529b0e16f185ca51fbed76013f_26164_300x0_resize_box_3.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>NEUQ 龙芯实验室博客</a></h1><h2 class=site-description></h2></div></header><ol class=menu-social><li><a href=https://github.com/Loongson-neuq/blog target=_blank title=GitHub rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/archives/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/intro/><span>龙芯班介绍及招新宣传</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>暗色模式</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目录</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#git>Git</a><ol><li><a href=#installations>Installations</a><ol><li><a href=#windows>Windows</a></li><li><a href=#linux>Linux</a></li><li><a href=#macos>MacOS</a></li></ol></li><li><a href=#configuration>Configuration</a><ol><li><a href=#global-configuration>Global Configuration</a></li><li><a href=#authentication>Authentication</a></li><li><a href=#linux-1>Linux</a></li></ol></li><li><a href=#basic-usage>Basic Usage</a><ol><li><a href=#init>Init</a></li><li><a href=#clone>Clone</a></li><li><a href=#commit>Commit</a></li><li><a href=#push>Push</a></li><li><a href=#pull>Pull</a></li><li><a href=#fetch>Fetch</a></li></ol></li></ol></li><li><a href=#linux-basics>Linux Basics</a><ol><li><a href=#installations-1>Installations</a><ol><li><a href=#choose-a-way-to-install-linux>Choose a way to install Linux</a></li></ol></li><li><a href=#why-linux>Why Linux</a><ol><li><a href=#shortcomings>Shortcomings</a></li></ol></li><li><a href=#unboxing>Unboxing</a><ol><li><a href=#package-manager>Package Manager</a></li><li><a href=#install-common-software>Install Common Software</a></li></ol></li><li><a href=#command-line>Command Line</a><ol><li><a href=#foreword>Foreword</a></li><li><a href=#shell-script>Shell script</a></li></ol></li><li><a href=#additional-linux-installation-guide>Additional: Linux Installation Guide</a><ol><li><a href=#wsl2>WSL2</a></li><li><a href=#physical-machine>Physical Machine</a></li><li><a href=#virtual-machine>Virtual Machine</a></li></ol></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/p/os-week1-git-and-linux-basics/><img src=/p/os-week1-git-and-linux-basics/background_hub7bd9424949445f7cb4edac68fee9448_2942088_800x0_resize_box_3.png srcset="/p/os-week1-git-and-linux-basics/background_hub7bd9424949445f7cb4edac68fee9448_2942088_800x0_resize_box_3.png 800w, /p/os-week1-git-and-linux-basics/background_hub7bd9424949445f7cb4edac68fee9448_2942088_1600x0_resize_box_3.png 1600w" width=800 height=450 loading=lazy alt="Featured image of post [OS Week1] Git and Linux Basics"></a></div><div class=article-details><header class=article-category><a href=/categories/os/>OS
</a><a href=/categories/%E8%AF%BE%E7%A8%8B/>课程
</a><a href=/categories/tutorial/>Tutorial</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/os-week1-git-and-linux-basics/>[OS Week1] Git and Linux Basics</a></h2><h3 class=article-subtitle>第一周 OS 课程 Slides</h3></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Oct 19, 2024</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>阅读时长: 6 分钟</time></div></footer></div></header><section class=article-content><h2 id=git>Git</h2><h3 id=installations>Installations</h3><h4 id=windows>Windows</h4><p>Download installer from <a class=link href=https://git-scm.com/downloads/win target=_blank rel=noopener>Git For Windows</a></p><p>or use winget</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>winget install Git.Git
</span></span></code></pre></td></tr></table></div></div><h4 id=linux>Linux</h4><p>Install with your package manager</p><h4 id=macos>MacOS</h4><p>Install with Homebrew</p><h3 id=configuration>Configuration</h3><h4 id=global-configuration>Global Configuration</h4><p>Detailed instructions: <a class=link href=https://manual.caiyi1.me/use-git/configure/ target=_blank rel=noopener>manual.caiyi1.me</a></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git config --global user.name <span class=s2>&#34;Your Name&#34;</span>
</span></span><span class=line><span class=cl>git config --global user.email <span class=s2>&#34;Your Email&#34;</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=authentication>Authentication</h4><p>For code hosting services like GitHub, GitLab, Gitee, etc, you have to proof the user pushing(or pull) the code HAS the permission to do so.</p><p>Traditional way is to use SSH key, which is a pair of keys, one is public, one is private. Public key is stored on the server, and private key is stored on your local machine.</p><p>国内平台如 Gitee 只能使用 SSH key 进行认证, 不能使用 credential helper。</p><p>Still widely used, but is outdated. As Git allows custom credential helper, you can use a more secure way(and easier) to authenticate.</p><h5 id=windows-1>Windows</h5><p>Uses <code>git credential-manager</code>, which is a part of Git for Windows.</p><h6 id=auth-github>Auth Github</h6><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git credential-manager github login
</span></span></code></pre></td></tr></table></div></div><p>Follow the GUI instructions to login.</p><h4 id=linux-1>Linux</h4><h5 id=auth-github-1>Auth Github</h5><p>uses GitHub CLI, which is provided by the distro&rsquo;s package manager.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Debian/Ubuntu</span>
</span></span><span class=line><span class=cl>sudo apt install gh
</span></span></code></pre></td></tr></table></div></div><p>Login with</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>gh auth login
</span></span></code></pre></td></tr></table></div></div><p>Setup git info</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>gh auth setup-git
</span></span></code></pre></td></tr></table></div></div><p>Follow the instructions to login.</p><h3 id=basic-usage>Basic Usage</h3><p>Detailed instructions: <a class=link href=https://manual.caiyi1.me/use-git/try-git/ target=_blank rel=noopener>manual.caiyi1.me</a></p><h4 id=init>Init</h4><h4 id=clone>Clone</h4><h4 id=commit>Commit</h4><h4 id=push>Push</h4><h4 id=pull>Pull</h4><h4 id=fetch>Fetch</h4><h2 id=linux-basics>Linux Basics</h2><p>Linux 不只是一个工具，也可以是像 Windows 一样用于日常工作的操作系统。</p><p>KDE 桌面环境提供与 Windows 类似的体验，几乎没有任何学习成本。</p><h3 id=installations-1>Installations</h3><h4 id=choose-a-way-to-install-linux>Choose a way to install Linux</h4><ul><li><p>Physical Machine</p><ul><li>Full performance</li><li>Graphics interface</li><li>Take up a lot of space</li><li>May not be easy to install if you are not experienced</li><li>Recommend for those who want immersive experience</li></ul></li><li><p>WSL2</p><ul><li>Easy to install</li><li>Extremely low performance cost</li><li>Disk-friendly</li><li>Battery-friendly</li><li>Only Command Line Interface, but you still uses Windows&rsquo; GUI</li><li>Good integration with Host OS(Windows)</li><li>Can run Linux GUI applications with X server (although not recommended for performance)</li></ul></li><li><p>Virtual Machine - Really not recommended</p><ul><li>Really low performance</li><li>Memory unfriendly</li><li>Battery unfriendly</li><li>Graphics interface</li></ul></li></ul><p><a class=link href=#additional-linux-installation-guide>Installation Guide</a></p><h3 id=why-linux>Why Linux</h3><ul><li><p>Excellent Command Line Interface</p><ul><li>Shell</li><li>各种命令行工具</li><li>丰富的管道命令</li><li>丰富的脚本语言，易于自动化</li></ul></li><li><p>Software Package Management</p><ul><li>无需手动下载安装</li><li>依赖自动解决</li><li>减少重复软件下载</li><li>便于卸载，没有毒瘤软件</li></ul></li><li><p>Developer-friendly</p><ul><li>Editor<ul><li>Vim/Nvim</li><li>VSCode</li><li>&mldr;</li></ul></li><li>Compiler<ul><li>GCC</li><li>Clang</li><li>&mldr;</li></ul></li></ul></li><li><p>Cross-platform development</p><ul><li>CMake/Make</li><li>LLVM，GCC</li><li>OS 内核需要 cross-compile</li></ul></li><li><p>Highly customizable</p><ul><li>Shell</li><li>Window Manager</li><li>Desktop Environment</li><li>&mldr;</li></ul></li><li><p>Open Source</p><ul><li>无需担心软件的安全性</li><li>无需担心软件的可用性</li><li>无需担心软件的可维护性</li><li>无需担心软件的隐私问题 (大多数情况，取决于你的使用方式)</li></ul></li></ul><h4 id=shortcomings>Shortcomings</h4><ul><li>Sucks when you need to use Windows-only software</li><li>Suck graphics driver support (Not for all hardware)</li><li>Suck graphics backend support<ul><li>X.org<ul><li>Old, and has not been updated for a long time<ul><li>May have some security issues</li><li>May not support some new features</li></ul></li><li>But still widely used</li><li>Good support for software</li></ul></li><li>Wayland<ul><li>Lacks many features</li><li>Bad support for some software</li><li>Really HIGH rendering latency<ul><li>You can feel it!</li><li>Not suitable for latency-sensitive games, like rhythm games</li></ul></li><li>Nvidia support sucks<ul><li>Games may run with lower performance</li></ul></li><li>Higher power consumption than X.org</li><li>Modern, updated frequently<ul><li>Trending</li></ul></li></ul></li></ul></li></ul><p>But I still recommend you to use Wayland as long as you don&rsquo;t have any problems with it.</p><h3 id=unboxing>Unboxing</h3><p>以下内容以相对稳定且简单 Ubuntu 22 作为演示。</p><h4 id=package-manager>Package Manager</h4><h5 id=whats-package-manager>Whats Package Manager</h5><p>包管理器用于管理 GNU/Linux 发行版的包（应用），不同于 Windows 的手动下载并安装，在 Linux 下安装 Git 只用输入一条命令。</p><p>可以通过类比的方式理解包管理器和包：</p><blockquote><p>左右两项不等价</p></blockquote><div class=table-wrapper><table><thead><tr><th style=text-align:center>Windows</th><th style=text-align:center>Linux</th></tr></thead><tbody><tr><td style=text-align:center>应用商店</td><td style=text-align:center>包管理器</td></tr><tr><td style=text-align:center>App</td><td style=text-align:center>包</td></tr></tbody></table></div><p>大多数 Linux 发行版都有自己的包管理器：</p><div class=table-wrapper><table><thead><tr><th style=text-align:center>Debian</th><th style=text-align:center>RPM</th><th style=text-align:center>Pacman</th></tr></thead><tbody><tr><td style=text-align:center>apt, dpkg</td><td style=text-align:center>yum, rpm</td><td style=text-align:center>pacman</td></tr></tbody></table></div><p>Ubuntu 的包管理器是 <code>apt</code> 和 <code>dpkg</code>，其中 apt 用于安装云端软件源的包，dpkg 则用于安装本地包。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>apt --version
</span></span><span class=line><span class=cl><span class=c1># output: apt 2.4.12 (amd64)</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=usage>Usage</h5><p>如果遇到了网络问题，请跳转下方 Mirror。</p><ol><li>更新软件包列表</li></ol><p>在安装包之前，一般会同步云端软件包信息，保证依赖关系的正确。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt update
</span></span></code></pre></td></tr></table></div></div><ol start=2><li>更新所有软件包</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt upgrade
</span></span></code></pre></td></tr></table></div></div><ol start=3><li>安装软件源的包</li></ol><p>将 <code>&lt;name></code> 换成要安装的包名，多个则以空格分隔。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt install &lt;name&gt;
</span></span></code></pre></td></tr></table></div></div><ol start=4><li>安装本地 deb 包</li></ol><p>安装中可能会提示依赖缺失，应使用 apt 安装缺失的依赖。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo dpkg -i /path/to/xxx.deb
</span></span></code></pre></td></tr></table></div></div><ol start=5><li>卸载包</li></ol><p>将 <code>&lt;name></code> 换成要卸载的包名，多个则以空格分隔。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt remove &lt;name&gt;
</span></span></code></pre></td></tr></table></div></div><ol start=6><li>查找包</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>apt search xxx
</span></span></code></pre></td></tr></table></div></div><h5 id=mirror>Mirror</h5><p>在使用 apt 时提示网络错误时，可以通过换源解决。</p><p>修改系统重要文件前记得备份：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo cp /etc/apt/sources.list /etc/apt/sources.list.back
</span></span><span class=line><span class=cl>sudo vim /etc/apt/sources.list
</span></span></code></pre></td></tr></table></div></div><blockquote><p>在 Ubuntu 24.04 之前，Ubuntu 的软件源配置文件使用传统的 One-Line-Style，路径为 /etc/apt/sources.list；从 Ubuntu 24.04 开始，Ubuntu 的软件源配置文件变更为 DEB822 格式，路径为 /etc/apt/sources.list.d/ubuntu.sources。
参考 <a class=link href=https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/ target=_blank rel=noopener>https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/</a></p></blockquote><p>在文件的顶部加入以下行：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl># 默认注释了源码镜像以提高 apt update 速度，如有需要可自行取消注释
</span></span><span class=line><span class=cl>deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ noble main restricted universe multiverse
</span></span><span class=line><span class=cl># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ noble main restricted universe multiverse
</span></span><span class=line><span class=cl>deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ noble-updates main restricted universe multiverse
</span></span><span class=line><span class=cl># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ noble-updates main restricted universe multiverse
</span></span><span class=line><span class=cl>deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ noble-backports main restricted universe multiverse
</span></span><span class=line><span class=cl># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ noble-backports main restricted universe multiverse
</span></span></code></pre></td></tr></table></div></div><p>最后更新软件包列表</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt update
</span></span></code></pre></td></tr></table></div></div><h4 id=install-common-software>Install Common Software</h4><h5 id=pakage-for-os-development>Pakage for OS Development</h5><ul><li>Git</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt update
</span></span><span class=line><span class=cl>sudo apt install git
</span></span></code></pre></td></tr></table></div></div><ul><li>VSCode</li></ul><p>以下内容来自 <a class=link href=https://manual.caiyi1.me/get-started/vscode target=_blank rel=noopener>manual</a></p><p>实体机用户请在 Linux 下安装 VSCode：</p><p>手动安装：</p><ol><li><p>从 <a class=link href=https://code.visualstudio.com target=_blank rel=noopener>VSCode 官网</a> 下载 deb 包。</p></li><li><p>使用 dpkg 安装。</p></li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo dpkg -i code_xxx.deb
</span></span></code></pre></td></tr></table></div></div><p>包管理器安装：</p><ol><li>添加源。</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt-get install wget gpg
</span></span><span class=line><span class=cl>wget -qO- https://packages.microsoft.com/keys/microsoft.asc <span class=p>|</span> gpg --dearmor &gt; packages.microsoft.gpg
</span></span><span class=line><span class=cl>sudo install -D -o root -g root -m <span class=m>644</span> packages.microsoft.gpg /etc/apt/keyrings/packages.microsoft.gpg
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;deb [arch=amd64,arm64,armhf signed-by=/etc/apt/keyrings/packages.microsoft.gpg] https://packages.microsoft.com/repos/code stable main&#34;</span> <span class=p>|</span>sudo tee /etc/apt/sources.list.d/vscode.list &gt; /dev/null
</span></span><span class=line><span class=cl>rm -f packages.microsoft.gpg
</span></span></code></pre></td></tr></table></div></div><ol start=2><li>安装。</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt install apt-transport-https
</span></span><span class=line><span class=cl>sudo apt update
</span></span><span class=line><span class=cl>sudo apt install code <span class=c1># or code-insiders</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>Rust</li></ul><p>以下内容源自 <a class=link href=https://learningos.cn/rCore-Tutorial-Guide-2024S/0setup-devel-env.html target=_blank rel=noopener>rCore-Tutorial-Guide-2024S 文档</a></p><ol start=0><li>如果遇到网络问题</li></ol><p>配置环境变量：</p><p>可以在当前终端执行（当前终端有效），或者写入 <code>~/.bashrc</code>（永久，打开新的终端后）。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>export</span> <span class=nv>RUSTUP_DIST_SERVER</span><span class=o>=</span>https://mirrors.ustc.edu.cn/rust-static
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>RUSTUP_UPDATE_ROOT</span><span class=o>=</span>https://mirrors.ustc.edu.cn/rust-static/rustup
</span></span></code></pre></td></tr></table></div></div><p>编辑 <code>~/.cargo/config</code>：</p><p>添加以下行：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=p>[</span><span class=nx>source</span><span class=p>.</span><span class=nx>crates-io</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>replace-with</span> <span class=p>=</span> <span class=s1>&#39;ustc&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>source</span><span class=p>.</span><span class=nx>ustc</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>registry</span> <span class=p>=</span> <span class=s2>&#34;sparse+https://mirrors.ustc.edu.cn/crates.io-index/&#34;</span>
</span></span></code></pre></td></tr></table></div></div><ol><li>安装 rustup</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl --proto <span class=s1>&#39;=https&#39;</span> --tlsv1.2 -sSf https://sh.rustup.rs <span class=p>|</span> sh
</span></span></code></pre></td></tr></table></div></div><ul><li>QEMU</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 安装依赖</span>
</span></span><span class=line><span class=cl>sudo apt install autoconf automake autotools-dev curl libmpc-dev libmpfr-dev libgmp-dev <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>              gawk build-essential bison flex texinfo gperf libtool patchutils bc <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>              zlib1g-dev libexpat-dev pkg-config  libglib2.0-dev libpixman-1-dev git tmux python3
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 下载 QEMU 源码</span>
</span></span><span class=line><span class=cl>wget https://download.qemu.org/qemu-7.0.0.tar.xz
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 解压</span>
</span></span><span class=line><span class=cl>tar xvJf qemu-7.0.0.tar.xz
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 进入子目录</span>
</span></span><span class=line><span class=cl><span class=nb>cd</span> qemu-7.0.0
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 编译安装并配置 RISC-V 支持</span>
</span></span><span class=line><span class=cl>./configure --target-list<span class=o>=</span>riscv64-softmmu,riscv64-linux-user
</span></span><span class=line><span class=cl>make -j<span class=k>$(</span>nproc<span class=k>)</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=awesome-tools>Awesome Tools</h5><p>为了提高开发效率，推荐部分小工具。</p><ol><li>CLI tools</li></ol><ul><li><p>ranger: 文件管理器</p></li><li><p>bat: 文件查看器，更好的 <code>less</code></p></li><li><p>tmux: 终端复用器</p></li><li><p>lazygit: <code>git</code> TUI 管理工具</p></li><li><p>eza: 有色彩和图标的 <code>ls</code></p></li></ul><h3 id=command-line>Command Line</h3><h4 id=foreword>Foreword</h4><p>Shell 是一个解释器，它接受用户输入的命令，然后<strong>调用相应的应用程序或内建命令函数</strong>。</p><ul><li><p>Windows</p><ul><li>PowerShell - fairly good, but lack customization. Slow, for still using .NET Framework(capability reasons, but can be replaced by .NET)<ul><li>Update to PowerShell 7, which is cross-platform</li><li><a class=link href=https://aka.ms/PSWindows target=_blank rel=noopener>https://aka.ms/PSWindows</a></li></ul></li><li>CMD</li></ul></li><li><p>Unix-like (inclue Linux, MacOS, FreeBSD&mldr;)</p><ul><li>Bash - default, but MUCH better than Windows'</li><li>Zsh - most popular, maybe hard to configure</li><li>Fish - easy to use, but not recommended for scripting</li><li>&mldr; like sh, dash</li></ul></li></ul><p>对于 Unix, 各种 Shell 的语法大致相同，内建命令大多数与 Bash 相同。甚至 Windows 的 PowerShell 也开始为某些 Bash 的内建命令通过 alias 提供支持。</p><p>Fish 是一个很好的 Shell，但是不适合用于编写脚本，因为它的语法和其他 Shell 不同。因此建议大家使用 Bash 或者 Zsh。如果你想配置一个好看并且功能强大的 Shell，可以尝试使用 Zsh。</p><p>Detailed instructions: <a class=link href=https://manual.caiyi1.me/use-git/hug-cli/ target=_blank rel=noopener>manual.caiyi1.me</a></p><h4 id=shell-script>Shell script</h4><p>Shell 脚本是一种文本文件，其中包含了一系列的命令（和我们在 shell 前端中输入的一样）。Shell 会按照脚本中的命令顺序执行。</p><p>下面尝试把你输入过的命令写入一个脚本文件，然后执行这个脚本文件。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>pwd</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;----------------&#34;</span>
</span></span><span class=line><span class=cl>ls
</span></span></code></pre></td></tr></table></div></div><p>执行时，如果使用<code>./script.sh</code>执行，需要给予执行权限，使用<code>chmod +x script.sh</code>。如果调用 shell 执行，例如<code>bash script.sh</code>，则不需要给予执行权限。</p><p>执行 shell 脚本时，会新开一个 shell 进程执行脚本，因此脚本中的变量不会影响到当前 shell。</p><p>脚本的工作目录与执行脚本的 shell 的工作目录相同。不是脚本文件的目录。</p><h3 id=additional-linux-installation-guide>Additional: Linux Installation Guide</h3><h4 id=wsl2>WSL2</h4><p>Boot up your Windows, enter Microsoft Store, search for &ldquo;WSL&rdquo;, select an distro and install it.</p><p>Ubuntu is recommended for beginners as it has official support.</p><p>After installation, you can open it from Start Menu or Windows Terminal.</p><p>The first time you uses it, you have to set up a username and password, not asking for your windows&rsquo;s password.</p><h4 id=physical-machine>Physical Machine</h4><p>Partition your disk in Windows. You have to create at least two partitions, one for Boot volume, one for Root(Where the system files are stored).</p><p>The Boot volume should be at least 1GB, and the Root volume should be at least 50GB.</p><p>Download a distro&rsquo;s ISO file from its official website, and flash it to a USB drive to make a bootable drive.</p><p>Reboot your computer to BIOS/UEFI, and boot from the USB drive.</p><p>Choose manual partitioning if you don&rsquo;t want to lose your data and Windows.</p><p>Assign the Boot volume to <code>/boot</code>, and the Root volume to <code>/</code>.</p><p>Choose the boot volume to be formatted as FAT32, and the root volume to be formatted as ext4 or Btrfs.</p><p>After installation, you can shutdown your computer and unplug the USB drive.</p><h5 id=must-read>##MUST READ##</h5><p>You may lose the ability to boot into Windows, as the bootloader is replaced by the Linux bootloader.</p><p>You can either select the system to boot in the BIOS/UEFI, or use a bootloader like GRUB/rEFInd.</p><p>Note that GRUB can NOT detect bootable devices at runtime while rEFInd can.</p><h4 id=virtual-machine>Virtual Machine</h4><p>Download a distro&rsquo;s ISO file from its official website, and create a new VM in your VM software. Assign at least 50GB of disk space and 4GB of RAM.</p><p>Mount the ISO file to the VM, and boot from it.</p><p>Install the system following the instructions along the way.</p><p>You can choose &ldquo;Clean Install&rdquo; since we don&rsquo;t have any data to lose.</p><p>After installation, you can shutdown the VM and unmount the ISO file. Then you can boot into the system.</p></section><footer class=article-footer><section class=article-tags><a href=/tags/git/>Git</a>
<a href=/tags/linux/>Linux</a></section><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>相关文章</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/p/os-week2-get-started-with-rust/><div class=article-details><h2 class=article-title>[OS Week2] Get started with Rust</h2></div></a></article><article><a href=/p/advanced-rust/><div class=article-details><h2 class=article-title>Advanced Rust</h2></div></a></article><article><a href=/p/os-week1-%E4%BD%9C%E4%B8%9A%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/><div class=article-details><h2 class=article-title>[OS Week1] 作业常见问题</h2></div></a></article><article><a href=/p/os-week2-%E4%BD%9C%E4%B8%9A%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/><div class=article-details><h2 class=article-title>[OS Week2] 作业常见问题</h2></div></a></article><article><a href=/p/verilog-%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/><div class=article-details><h2 class=article-title>Verilog 基础知识</h2></div></a></article></div></div></aside><script src=https://giscus.app/client.js data-repo=Loongson-neuq/blog data-repo-id=R_kgDOM20epQ data-category=Giscus data-category-id=DIC_kwDOM20epc4CixXm data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=preferred_color_scheme data-lang=zh-cn data-loading crossorigin=anonymous async></script><script>function setGiscusTheme(e){let t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app")}(function(){addEventListener("message",t=>{if(event.origin!=="https://giscus.app")return;e()}),window.addEventListener("onColorSchemeChange",e);function e(){setGiscusTheme(document.documentElement.dataset.scheme==="light"?"preferred_color_scheme":"preferred_color_scheme")}})()</script><footer class=site-footer><section class=copyright>&copy;
2024 NEUQ 龙芯实验室博客</section><section class=powerby>使用 <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> 构建<br>主题 <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.29.0>Stack</a></b> 由 <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> 设计</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>